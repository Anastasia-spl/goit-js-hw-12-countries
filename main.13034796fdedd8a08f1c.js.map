{"version":3,"sources":["webpack:///./js/error-notification.js","webpack:///./js/fetch-countries-basics.js","webpack:///./js/refs.js","webpack:///./js/fetch-api.js","webpack:///./js/update-markup.js","webpack:///./templates/countries.hbs"],"names":["PNotify","require","notifyError","title","text","error","fetchBasics","searchQuery","fetchCountries","url","this","query","fetch","then","response","status","ok","json","value","countriesContainer","document","querySelector","inputRef","_","refs","addEventListener","debounce","event","target","cleanMarkup","innerHTML","trim","countries","markup","length","countriesTpl","insertAdjacentHTML","Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop"],"mappings":"+KAAMA,EAAUC,EAAQ,QAMT,SAASC,EAAYC,EAAOC,GACvCJ,EAAQK,MAAM,CACVF,MAAOA,EACPC,KAAMA,ICPP,IAAME,EAAc,CACvBC,YAAa,KACbC,eAFuB,WAGrB,IAAMC,EAAM,yCAAyCC,KAAKC,MAC1D,OAAOC,MAAMH,GACVI,MAAK,SAACC,GAIH,OAHuB,MAApBA,EAASC,QACRb,EAAY,uBAAwB,qBAEjCY,KAEVD,MAAK,SAACC,GACH,OAAmB,IAAhBA,EAASE,GACDF,EAASG,OAEbH,MAIf,YACI,OAAOJ,KAAKH,aAEhB,UAAUW,GACNR,KAAKH,YAAcW,ICzBZ,G,UAAA,CACXC,mBAAoBC,SAASC,cAAc,2BAC3CC,SAAUF,SAASC,cAAc,+B,qBCFrC,IAAME,EAAItB,EAAQ,QAQlBuB,EAAKF,SAASG,iBAAiB,QAASF,EAAEG,UAE1C,SAAgCC,GAC7BrB,EAAYK,MAAQgB,EAAMC,OAAOV,MACjC,IAAMW,EAAc,kBAAML,EAAKL,mBAAmBW,UAAY,IAE7B,KAA9BxB,EAAYK,MAAMoB,QACpBzB,EAAYE,iBACTK,MAAK,SAACmB,GCbE,IAA+Bd,EACpCe,EDaCD,EAAUE,OAAS,GACpBhC,EAAY,0BAA2B,wCAGzC2B,IClBsCX,EDmBhBc,EClBpBC,EAASE,IAAajB,GAC5BM,EAAKL,mBAAmBiB,mBAAmB,YAAaH,ODqBjC,KAAtB3B,EAAYK,OACbkB,MAnByE,O,qBER7E,IAAIQ,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUQ,aAAe,GAAKC,EAAOT,EAAUU,MAAMC,cAAkCC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAC1O,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,8EACHJ,EAR+H,mBAQtHN,EAAmH,OAAzGA,EAASQ,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASE,GAChT,2EACAM,EAV+H,mBAUtHN,EAAyH,OAA/GA,EAASQ,EAAeZ,EAAQ,aAAyB,MAAVD,EAAiBa,EAAeb,EAAO,WAAaA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASE,GACzT,+BACAM,EAZ+H,mBAYtHN,EAAmH,OAAzGA,EAASQ,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASE,GAChT,4GACAM,EAd+H,mBActHN,EAA6H,OAAnHA,EAASQ,EAAeZ,EAAQ,eAA2B,MAAVD,EAAiBa,EAAeb,EAAO,aAAeA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASE,GAC/T,wLACkS,OAAhSD,EAASS,EAAeZ,EAAQ,QAAQkB,KAAKb,EAAkB,MAAVN,EAAiBa,EAAeb,EAAO,aAAeA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUqB,QAAQ,EAAGjB,EAAM,GAAG,QAAUJ,EAAUsB,KAAK,KAAOlB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBC,EAAS,IAClT,qIACmS,OAAjSA,EAASS,EAAeZ,EAAQ,QAAQkB,KAAKb,EAAkB,MAAVN,EAAiBa,EAAeb,EAAO,cAAgBA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUqB,QAAQ,EAAGjB,EAAM,GAAG,QAAUJ,EAAUsB,KAAK,KAAOlB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBC,EAAS,IACnT,iEACJ,EAAI,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQQ,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,2BACHhB,EAAUa,iBAAwM,mBAArLP,EAAmH,OAAzGA,EAASQ,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBK,EAASN,EAAUU,MAAMC,eAA+CL,EAAOc,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUQ,aAAe,GAAI,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOJ,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASE,GAClZ,YACJ,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUQ,aAAe,GAAKC,EAAOT,EAAUU,MAAMC,cAAkCC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,uBACHJ,EARuH,mBAQ9GN,EAAuH,OAA7GA,EAASQ,EAAeZ,EAAQ,YAAwB,MAAVD,EAAiBa,EAAeb,EAAO,UAAYA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,SAAS,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASE,GACxT,KACAM,EAVuH,mBAU9GN,EAAmH,OAAzGA,EAASQ,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBK,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOH,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASE,GAClT,OACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAON,OAA+R,OAAtRA,GAPsBL,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUQ,aAAe,GAAIP,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUqB,QAAQ,EAAGjB,EAAM,GAAG,QAAUJ,EAAUsB,KAAK,KAAOlB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBC,EAAS,IAC/S,SAAU,M","file":"main.13034796fdedd8a08f1c.js","sourcesContent":["const PNotify = require('@pnotify/core');\nimport \"@pnotify/core/dist/PNotify.css\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\n\n// const myStack = new PNotify.Stack({maxOpen: 1,});\n\nexport default function notifyError(title, text) {\n    PNotify.error({\n        title: title,\n        text: text,\n        // stack: myStack,\n    });\n}\n","import notifyError from './error-notification.js'\n\nexport const fetchBasics = {\n    searchQuery: null,\n    fetchCountries() {\n      const url = `https://restcountries.eu/rest/v2/name/${this.query}`;\n      return fetch(url)\n        .then((response) => {\n            if(response.status === 404) {\n                notifyError('Countries not found!', 'Try another name.');\n            }\n            return response;\n        })\n        .then((response) => {\n            if(response.ok === true) { \n                return response.json()\n            }\n            return response;\n        })\n    },\n\n    get query() {\n        return this.searchQuery;\n    },\n    set query(value) {\n        this.searchQuery = value;\n    },\n}\n\n\n\n\n\n\n","export default {\n    countriesContainer: document.querySelector('.js-countries-container'),\n    inputRef: document.querySelector('.country-search .js-input'),\n} ","const _ = require('lodash');\n\nimport notifyError from './error-notification.js'\nimport { fetchBasics } from './fetch-countries-basics.js'\nimport refs from './refs.js';\nimport updateCountriesMarkup from './update-markup.js'\n//===================================================================================\n\nrefs.inputRef.addEventListener('input', _.debounce((onSearchCountriesInput), 500));\n\nfunction onSearchCountriesInput(event) {\n   fetchBasics.query = event.target.value;\n   const cleanMarkup = () => refs.countriesContainer.innerHTML = '';\n\n   if(fetchBasics.query.trim() !==  '') {\n    fetchBasics.fetchCountries()\n      .then((countries) => { \n        if(countries.length > 10) {\n          notifyError('Too many matches found.', 'Please enter a more specific query!');\n          return;\n        } \n        cleanMarkup();\n        updateCountriesMarkup(countries)\n      })\n   }\n\n  if(fetchBasics.query === '') {\n    cleanMarkup();\n  } \n}","import countriesTpl from '../templates/countries.hbs';\nimport refs from './refs.js';\n\nexport default function updateCountriesMarkup(value) {\n    const markup = countriesTpl(value);\n    refs.countriesContainer.insertAdjacentHTML('beforeend', markup);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"     <li class=\\\"countries__item\\\">\\n            <h2 class=\\\"countries__name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":40},\"end\":{\"line\":3,\"column\":48}}}) : helper)))\n    + \"</h2>\\n            <h3 class=\\\"countries__capital\\\"><span>Capital: </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":65},\"end\":{\"line\":4,\"column\":76}}}) : helper)))\n    + \"</h3>\\n            <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":21},\"end\":{\"line\":5,\"column\":29}}}) : helper)))\n    + \" alt=\\\"Flag of the country\\\" width=\\\"220px\\\">\\n            <p class=\\\"countries__subregions\\\">Subregion: <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"subregion\") || (depth0 != null ? lookupProperty(depth0,\"subregion\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"subregion\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":62},\"end\":{\"line\":6,\"column\":75}}}) : helper)))\n    + \"</span></p>\\n            <div class=\\\"lang-wrapper\\\">\\n                <span class=\\\"countries__languages-title\\\">Languages:</span>\\n                <ul class=\\\"countries__languages\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":20},\"end\":{\"line\":12,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\n            </div>\\n            <span class=\\\"countries__currencies\\\">Currencies: \\n                <span>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"currencies\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":20},\"end\":{\"line\":19,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </span>\\n            </span>\\n        </li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":24},\"end\":{\"line\":11,\"column\":32}}}) : helper)))\n    + \"</li> \\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"symbol\") || (depth0 != null ? lookupProperty(depth0,\"symbol\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"symbol\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":20},\"end\":{\"line\":18,\"column\":30}}}) : helper)))\n    + \" \\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":32},\"end\":{\"line\":18,\"column\":40}}}) : helper)))\n    + \"\\\"\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":23,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}